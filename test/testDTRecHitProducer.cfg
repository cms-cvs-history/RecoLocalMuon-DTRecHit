process PROD = {
        source = PoolSource {
                 untracked string fileName = 'digi.root'
                 untracked int32 maxEvents = -1
                 untracked uint32 debugVebosity = 10
                 untracked bool   debugFlag     = true
                }
 

        include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
        include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
        include "Geometry/DTGeometry/data/dtGeometry.cfi"

        module rechitbuilder = DTRecHitProducer {
                untracked bool debug = true
                string dtDigiLabel = 'dtdigitizer'      
                # The reconstruction algo and its parameter set
                string recAlgo = 'DTLinearDriftAlgo'
                PSet recAlgoConfig = {
                        # The module to be used for ttrig synchronization and its paraemter set
                        string tTrigMode = 'DTTTrigSyncTOFCorr'
                        PSet tTrigModeConfig = {
                                untracked bool debug = true
                                # The offset to be subtracted to digi times (ns)
                                double tTrig = 496
                                #double tTrig = 500
                                # The velocity of signal propagation along the wire (cm/ns)
                                double vPropWire = 24.4
                                # The correction type for TOF
                                int32 tofCorrType = 2
                                }
                        # Drift velocity (cm/ns)                
                        double driftVelocity = 0.00543
                        # Times outside this window (ns) are considered 
                        # as coming from previous BXs
                        double minTime = -3
                        double maxTime = 415
                        # Cell resolution (cm)
                        double hitResolution = 0.02
                        untracked bool debug = true
                        }
        }


  
        module out = PoolOutputModule {
                untracked string fileName ="rechit.root"
        }

         
        path p = {rechitbuilder}
        endpath ep = {out}
}

