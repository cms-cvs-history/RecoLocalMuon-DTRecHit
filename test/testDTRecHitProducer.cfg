process PROD = {
	source = PoolSource {
     		 untracked string fileName = 'digi.root'
     		 untracked int32 maxEvents = -1
     		 untracked uint32 debugVebosity = 10
     		 untracked bool   debugFlag     = true
		}
 

#	 es_source magfield = XMLIdealGeometryESSource {
#               FileInPath GeometryConfiguration = "SimG4Core/Application/test/FieldConfiguration.xml"
#               string rootNodeName ="MagneticFieldVolumes:MAGF"        
#               }


	 es_module = VolumeBasedMagneticFieldESProducer {
 		    double findVolumeTolerance = 0.0
	 	    untracked bool cacheLastVolume = true
	            untracked bool timerOn = false
	}	


	es_source = XMLIdealGeometryESSource 
		{ #FileInPath GeometryConfiguration = "SimG4Core/Application/test/SimConfiguration.xml"
                   FileInPath GeometryConfiguration = "Geometry/DTGeometry/test/muonConfiguration.xml"
		  string rootNodeName = "cms:CMSE"
		  #string rootNodeName = ""
	 	}


	es_module = DTGeometryESModule{}

   	module rechitbuilder = DTRecHitProducer {
		untracked bool debug = true
		string dtDigiLabel = 'dtdigitizer'	
		# The reconstruction algo and its parameter set
		string recAlgo = 'DTLinearDriftAlgo'
		PSet recAlgoConfig = {
			# The module to be used for ttrig synchronization and its paraemter set
			string tTrigMode = 'DTTTrigSyncTOFCorr'
			PSet tTrigModeConfig = {
				untracked bool debug = true
				double tTrig = 496
				#double tTrig = 500
				double vPropWire = 24.4
				int32 tofCorrType = 2
				}		
		        double driftVelocity = 0.00543
			double minTime = -3
			double maxTime = 415
			double hitResolution = 0.02
			untracked bool debug = true
			}
	}






  
	module out = PoolOutputModule {
        	untracked string fileName ="rechit.root"
	}

	 
	path p = {rechitbuilder, out}

}

